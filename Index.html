<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Namaste</title>
</head>

<body onload="currentLocation()">
    <div class="container">
        <div class="section">
            <img class="logo" src="img/Logo.png" alt="Namaste" width="50%">
            <!-- Display empCode above camera view -->
            <div>
                <p id="empNameDisplay" class="emp-code-display"></p>
                <p id="siteCodeDisplay" class="emp-code-display"></p>
            </div>

            <div id="my-qr-reader"></div>
            <div class="container"></div>
            <form class="gform pure-form pure-form-stacked" method="POST" data-email="example@email.net"
                action="https://script.google.com/macros/s/AKfycbwE1yTKTSDVK10nzpih1yGtikLCZU1ipUYBSloYH8dcHZqG9Q5ni6BOHjR3hNZ7t8VC0Q/exec">
                <div>
                    <div>
                        <label for="empCode">Emp Code</label>
                        <input type="text" id="empCode" name="empCode" placeholder="Emp Code">
                    </div>
                    <div>
                        <label for="empName">Emp Name</label>
                        <input type="text" id="empName" name="empName" placeholder="Emp Name">
                    </div>
                    <div>
                        <label for="siteID">Site ID</label>
                        <input type="text" id="siteID" name="siteID" placeholder="Site ID">
                    </div>
                    <div>
                        <label for="workOrderNo">Work Order No</label>
                        <input type="text" id="workOrderNo" name="workOrderNo" placeholder="Work Order No">
                    </div>
                    <div>
                        <label for="datetime">Date & Time</label>
                        <input type="text" id="datetime" name="datetime" placeholder="Date & Time">
                    </div>
                    <div>
                        <label for="currentLatitude">Current Latitude</label>
                        <input type="text" id="currentLatitude" name="currentLatitude" placeholder="Current Latitude">
                    </div>
                    <div>
                        <label for="currentLongitude">Current Longitude</label>
                        <input type="text" id="currentLongitude" name="currentLongitude" placeholder="Current Longitude">
                    </div>
                    <div>
                        <label for="siteLatitude">Site Latitude</label>
                        <input type="text" id="siteLatitude" name="siteLatitude" placeholder="Site Latitude">
                    </div>
                    <div>
                        <label for="siteLongitude">Site Longitude</label>
                        <input type="text" id="siteLongitude" name="siteLongitude" placeholder="Site Longitude">
                    </div>
                </div>
                <button type="submit" class="btn btn-light text-primary w-100 py-3">Time Log</button>
            </form>
            <span class="text-white"><i></i><b>AllEdge Soft & Logic (OPC) Pvt. Ltd.</b>, All rights reserved.</span>

            <p id="demo"></p>
        </div>
    </div>

    <script src="qrcode.js"></script>
    <script src="script.js"></script>
    <script data-cfasync="false" src="form-submission-handler.js"></script>

    <script>
        const y = document.getElementById("demo");

        function currentLocation() {
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(showCurrentPosition);
            } else {
                y.innerHTML = "Geolocation is not supported by this browser.";
            }
        }

        function showCurrentPosition(position) {
            y.innerHTML = "Latitude: " + position.coords.latitude +
                " - Longitude: " + position.coords.longitude;
        }
    </script>
</body>

</html>
